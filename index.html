<!-- 
    OpenQP Input Generator
    Developed by Alireza Lashkaripour
    Date: Nov. 2024
    Description: Web-based tool for generating input files for OpenQP.

    "Nicholas Rego and David Koes
    3Dmol.js: molecular visualization with WebGL
    Bioinformatics (2015) 31 (8): 1322-1324 doi:10.1093/bioinformatics/btu829"
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A professional tool for creating and managing OpenQP input files">
        <meta name="keywords" content="Quantum Chemistry, OpenQP, Input Generator, MRSF-TDDFT">
        <title>OpenQP Input Generator</title>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
        <style>
            /* Reset and Base Styles */
/* General Reset */
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: -webkit-linear-gradient(315deg, #f5f8ff, #e2e8f2);
    background: -moz-linear-gradient(315deg, #f5f8ff, #e2e8f2);
    background: linear-gradient(135deg, #f5f8ff, #e2e8f2);
    color: #333;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    min-height: 100vh;
}

/* Header */
header {
    background: -webkit-linear-gradient(315deg, #4f93e6, #3a6fa7);
    background: -moz-linear-gradient(315deg, #4f93e6, #3a6fa7);
    background: linear-gradient(135deg, #4f93e6, #3a6fa7);
    color: white;
    text-align: center;
    padding: 1.5rem;
    -webkit-border-bottom-left-radius: 20px;
    -webkit-border-bottom-right-radius: 20px;
    -moz-border-radius-bottomleft: 20px;
    -moz-border-radius-bottomright: 20px;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    -webkit-box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

header h1 {
    font-size: 2.4rem;
    font-weight: 700;
}

header p {
    font-size: 1rem;
    margin-top: 0.5rem;
}

/* Container */
.container {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 1fr 2rem 1fr;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    padding: 2rem;
    max-width: 1200px;
    margin: auto;
}

.panel {
    background: rgba(255, 255, 255, 0.85);
    -webkit-border-radius: 15px;
    -moz-border-radius: 15px;
    border-radius: 15px;
    padding: 1.5rem;
    -webkit-box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    -webkit-transition: all 0.3s ease-in-out;
    -moz-transition: all 0.3s ease-in-out;
    transition: all 0.3s ease-in-out;
}

.panel:hover {
    -webkit-transform: translateY(-5px);
    -ms-transform: translateY(-5px);
    transform: translateY(-5px);
    -webkit-box-shadow: 0 12px 18px rgba(0, 0, 0, 0.2);
    box-shadow: 0 12px 18px rgba(0, 0, 0, 0.2);
}

/* Headings */
h2 {
    font-size: 1.5rem;
    color: #4f93e6;
    border-bottom: 2px solid #e0e4ec;
    margin-bottom: 1rem;
}

/* Inputs */
input, textarea, select {
    width: 100%;
    padding: 0.7rem;
    margin-bottom: 1rem;
    border: 1px solid #ddd;
    -webkit-border-radius: 8px;
    -moz-border-radius: 8px;
    border-radius: 8px;
    background: #f8faff;
    font-size: 0.9rem;
    -webkit-transition: all 0.2s ease-in-out;
    transition: all 0.2s ease-in-out;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

input:focus, textarea:focus, select:focus {
    border-color: #4f93e6;
    -webkit-box-shadow: 0 0 8px rgba(79, 147, 230, 0.3);
    box-shadow: 0 0 8px rgba(79, 147, 230, 0.3);
    outline: none;
}

/* Buttons */
button {
    background: -webkit-linear-gradient(315deg, #4f93e6, #3a6fa7);
    background: -moz-linear-gradient(315deg, #4f93e6, #3a6fa7);
    background: linear-gradient(135deg, #4f93e6, #3a6fa7);
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    font-size: 1rem;
    font-weight: 600;
    -webkit-border-radius: 8px;
    -moz-border-radius: 8px;
    border-radius: 8px;
    cursor: pointer;
    -webkit-transition: all 0.3s ease-in-out;
    transition: all 0.3s ease-in-out;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

button:hover {
    -webkit-transform: translateY(-2px);
    -ms-transform: translateY(-2px);
    transform: translateY(-2px);
    -webkit-box-shadow: 0 4px 12px rgba(79, 147, 230, 0.3);
    box-shadow: 0 4px 12px rgba(79, 147, 230, 0.3);
}

/* Molecule Viewer */
#viewer {
    width: 100%;
    height: 350px;
    border: 1px solid #dce1eb;
    -webkit-border-radius: 12px;
    -moz-border-radius: 12px;
    border-radius: 12px;
    background-color: #ffffff;
    -webkit-box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    position: relative;
    margin-bottom: 1.5rem;
}

/* Generated Input */
#inputPreview {
    background: #ffffff;
    border: 1px solid #dce1eb;
    -webkit-border-radius: 12px;
    -moz-border-radius: 12px;
    border-radius: 12px;
    height: 300px;
    padding: 1rem;
    font-family: 'Courier New', monospace;
    font-size: 0.95rem;
    overflow-y: auto;
}

.inline-group {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    gap: 1rem;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    margin-bottom: 1rem;
}

.input-small {
    -webkit-box-flex: 1;
    -ms-flex: 1;
    flex: 1;
    max-width: 150px;
}

.input-small label {
    display: block;
    margin-bottom: 0.4rem;
    font-weight: 400;
    font-size: 0.9rem;
    color: #2d3748;
}

.input-small input {
    width: 100%;
    padding: 0.5rem;
    font-size: 0.9rem;
    font-weight: 400;
    color: #2d3748;
    border: 1px solid #ccc;
    -webkit-border-radius: 6px;
    -moz-border-radius: 6px;
    border-radius: 6px;
    background: #f8faff;
}

.input-small input:focus {
    border-color: #4f93e6;
    -webkit-box-shadow: 0 0 5px rgba(79, 147, 230, 0.3);
    box-shadow: 0 0 5px rgba(79, 147, 230, 0.3);
    outline: none;
}

/* Responsive Design */
@media (max-width: 768px) {
    .container {
        -ms-grid-columns: 1fr;
        grid-template-columns: 1fr;
    }
}

/* iOS Specific Fixes */
@supports (-webkit-touch-callout: none) {
    body {
        min-height: -webkit-fill-available;
    }
}

/* Touch Device Optimization */
@media (hover: none) {
    .panel:hover {
        transform: none;
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
    }
    
    button:hover {
        transform: none;
        box-shadow: none;
    }
}


/* Responsive Design */
@media (max-width: 768px) {
    .container {
        grid-template-columns: 1fr;
    }
}
        </style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/3Dmol/2.0.3/3Dmol-min.js"></script>
    </head>
<body>
    <header>
        <h1>OpenQP Input Generator</h1>
        <p>A professional tool for creating and managing OpenQP inputs</p>
    </header>
    <div class="container">
        <!-- Left Panel: Geometry Input and Options -->
        <div class="panel left-panel">
            <h2>Input Generator</h2>

        <!-- Geometry Input -->
            <label for="geometry">Molecular Geometry (XYZ format):</label>
            <textarea id="geometry" rows="6" placeholder="Paste XYZ geometry here" oninput="updateInputPreview()"></textarea>
            <label for="loadGeometry">Or Load XYZ File:</label>
            <input type="file" id="loadGeometry" accept=".xyz" onchange="loadGeometryFromFile()" oninput="updateInputPreview()">

            

            <!-- System Name -->
            <label for="systemName">Project Name:</label>
            <input type="text" id="systemName" placeholder="Enter Project Name (Default: geo)" oninput="updateInputPreview()" >

            <!-- Calculation Template Selection -->
            <label for="calcType">Calculation Type:</label>
            <select id="calcType" onchange="updateInputPreview()">
                <option value="dft_energy">DFT ENERGY</option>
                <option value="dft_gradient">DFT GRADIENT</option>
                <option value="tdhf_energy">TDHF Energy</option>
                <option value="tdhf_gradient">TDHF GRADIENT</option>
                <option value="sf-tddft_energy">SF-TDDFT ENERGY</option>
                <option value="sf_tddft_gradient">SF-TDDFT GRADIENT</option>
                <option value="mrsf-tddft_energy">MRSF-TDDFT ENERGY</option>
                <option value="mrsf-tddft_gradient">MRSF-TDDFT GRADIENT</option>
                <option value="dft_numerical_hessian">DFT NUMERICAL HESSIAN</option> 
                <option value="mrdf-tddft_numerical_hessian">MRSF-TDDFT NUMERICAL HESSIAN</option>
                <option value="dft_optimization">DFT OPTIMIZATION</option>
                <option value="mrsf-tddft_optimization">MRSF-TDDFT OPTIMIZATION</option> 
                <option value="mrsf-tddft_mep_optimization">MRSF-TDDFT MEP OPTIMIZATION</option>
                <option value="mrsf-tddft_meci_optimization">MRSF-TDDFT MECI OPTIMIZATION</option>
            </select>



            <!-- Calculation Options -->
            <h2>Options</h3>
            <label for="basisSearch">Basis Set:</label>
            <input type="text" id="basisSearch" placeholder="Search basis sets..."  onfocus="showDropdown()" onkeyup="filterBasisOptions()">
            <select id="basis" size="5" style="display: none;"  onclick="selectBasisOption()" onchange="updateInputPreview()">
                <option value="2zapa-nr">2zapa-nr</option>
                <option value="2zapa-nr-cv">2zapa-nr-cv</option>
                <option value="3-21g">3-21G</option>
                <option value="3zapa-nr">3zapa-nr</option>
                <option value="3zapa-nr-cv">3zapa-nr-cv</option>
                <option value="4-31g">4-31G</option>
                <option value="4zapa-nr">4zapa-nr</option>
                <option value="4zapa-nr-cv">4zapa-nr-cv</option>
                <option value="5-21g">5-21G</option>
                <option value="5zapa-nr">5zapa-nr</option>
                <option value="5zapa-nr-cv">5zapa-nr-cv</option>
                <option value="6-21g">6-21G</option>
                <option value="6-311++g(2d,2p)">6-311++G(2d,2p)</option>
                <option value="6-311g(2df,2pd)">6-311G(2df,2pd)</option>
                <option value="6-311+g(2d,p)">6-311+G(2d,p)</option>
                <option value="6-311++g(3df,3pd)">6-311++G(3df,3pd)</option>
                <option value="6-311+g">6-311+G</option>
                <option value="6-311g">6-311G</option>
                <option value="6-311++g">6-311++G</option>
                <option value="6-311+g(d)">6-311+G(d)</option>
                <option value="6-311g(d)">6-311G(d)</option>
                <option value="6-311++g(d)">6-311++G(d)</option>
                <option value="6-311+g(d)-j">6-311+G(d)-J</option>
                <option value="6-311+g(d,p)">6-311+G(d,p)</option>
                <option value="6-311g(d,p)">6-311G(d,p)</option>
                <option value="6-311++g(d,p)">6-311++G(d,p)</option>
                <option value="6-311++g(d,p)-j">6-311++G(d,p)-J</option>
                <option value="6-311g-j">6-311G-J</option>
                <option value="6-311xxg(d,p)">6-311xxG(d,p)</option>
                <option value="6-31g(2df,p)">6-31G(2df,p)</option>
                <option value="6-31g(3df,3pd)">6-31G(3df,3pd)</option>
                <option value="6-31+g">6-31+G</option>
                <option value="6-31g">6-31G</option>
                <option value="6-31++g">6-31++G</option>
                <option value="6-31g-blaudeau">6-31G-Blaudeau</option>
                <option value="6-31+g(d)">6-31+G(d)</option>
                <option value="6-31g(d)">6-31G(d)</option>
                <option value="6-31++g(d)">6-31++G(d)</option>
                <option value="6-31g(d)-blaudeau">6-31G(d)-Blaudeau</option>
                <option value="6-31+g(d)-j">6-31+G(d)-J</option>
                <option value="6-31+g(d,p)">6-31+G(d,p)</option>
                <option value="6-31g(d,p)">6-31G(d,p)</option>
                <option value="6-31++g(d,p)">6-31++G(d,p)</option>
                <option value="6-31++g(d,p)-j">6-31++G(d,p)-J</option>
                <option value="6-31g-j">6-31G-J</option>
                <option value="6zapa-nr">6zapa-nr</option>
                <option value="7zapa-nr">7zapa-nr</option>
                <option value="acv2z-j">acv2z-J</option>
                <option value="acv3z-j">acv3z-J</option>
                <option value="acv4z-j">acv4z-J</option>
                <option value="admm-1">ADMM-1</option>
                <option value="admm-2">ADMM-2</option>
                <option value="admm-3">ADMM-3</option>
                <option value="ahgbs-9">AHGBS-9</option>
                <option value="ahgbsp1-9">AHGBSP1-9</option>
                <option value="ahgbsp2-9">AHGBSP2-9</option>
                <option value="ahgbsp3-9">AHGBSP3-9</option>
                <option value="ahlrichs_pvdz">Ahlrichs pVDZ</option>
                <option value="ahlrichs_tzv">Ahlrichs TZV</option>
                <option value="ahlrichs_vdz">Ahlrichs VDZ</option>
                <option value="ahlrichs_vtz">Ahlrichs VTZ</option>
                <option value="ano-dk3">ANO-DK3</option>
                <option value="ano-r0">ANO-R0</option>
                <option value="ano-r1">ANO-R1</option>
                <option value="ano-r2">ANO-R2</option>
                <option value="ano-r3">ANO-R3</option>
                <option value="ano-r">ANO-R</option>
                <option value="ano-rcc">ANO-RCC</option>
                <option value="ano-rcc-mb">ANO-RCC-MB</option>
                <option value="ano-rcc-vdz">ANO-RCC-VDZ</option>
                <option value="ano-rcc-vdzp">ANO-RCC-VDZP</option>
                <option value="ano-rcc-vqzp">ANO-RCC-VQZP</option>
                <option value="ano-rcc-vtz">ANO-RCC-VTZ</option>
                <option value="ano-rcc-vtzp">ANO-RCC-VTZP</option>
                <option value="ano-vt-dz">ANO-VT-DZ</option>
                <option value="ano-vt-qz">ANO-VT-QZ</option>
                <option value="ano-vt-tz">ANO-VT-TZ</option>
                <option value="apr-cc-pv(q+d)z">apr-cc-pV(Q+d)Z</option>
                <option value="aug-admm-1">aug-ADMM-1</option>
                <option value="aug-admm-2">aug-ADMM-2</option>
                <option value="aug-admm-3">aug-ADMM-3</option>
                <option value="aug-cc-pcv5z">aug-cc-pCV5Z</option>
                <option value="aug-cc-pcvdz">aug-cc-pCVDZ</option>
                <option value="aug-cc-pcvdz-dk">aug-cc-pCVDZ-DK</option>
                <option value="aug-cc-pcvqz">aug-cc-pCVQZ</option>
                <option value="aug-cc-pcvtz">aug-cc-pCVTZ</option>
                <option value="aug-cc-pv(5+d)z">aug-cc-pV(5+d)Z</option>
                <option value="aug-cc-pv5z">aug-cc-pV5Z</option>
                <option value="aug-cc-pv6z">aug-cc-pV6Z</option>
                <option value="aug-cc-pv7z">aug-cc-pV7Z</option>
                <option value="aug-cc-pv(d+d)z">aug-cc-pV(D+d)Z</option>
                <option value="aug-cc-pvdz">aug-cc-pVDZ</option>
                <option value="aug-cc-pv(q+d)z">aug-cc-pV(Q+d)Z</option>
                <option value="aug-cc-pvqz">aug-cc-pVQZ</option>
                <option value="aug-cc-pv(t+d)z">aug-cc-pV(T+d)Z</option>
                <option value="aug-cc-pvtz">aug-cc-pVTZ</option>
                <option value="aug-mcc-pv5z">aug-mcc-pV5Z</option>
                <option value="aug-mcc-pv6z">aug-mcc-pV6Z</option>
                <option value="aug-mcc-pv7z">aug-mcc-pV7Z</option>
                <option value="aug-mcc-pv8z">aug-mcc-pV8Z</option>
                <option value="aug-mcc-pvqz">aug-mcc-pVQZ</option>
                <option value="aug-mcc-pvtz">aug-mcc-pVTZ</option>
                <option value="aug-pc-0">aug-pc-0</option>
                <option value="aug-pc-1">aug-pc-1</option>
                <option value="aug-pc-2">aug-pc-2</option>
                <option value="aug-pc-3">aug-pc-3</option>
                <option value="aug-pc-4">aug-pc-4</option>
                <option value="aug-pch-1">aug-pch-1</option>
                <option value="aug-pch-2">aug-pch-2</option>
                <option value="aug-pch-3">aug-pch-3</option>
                <option value="aug-pch-4">aug-pch-4</option>
                <option value="aug-pcj-0">aug-pcJ-0</option>
                <option value="aug-pcj-1">aug-pcJ-1</option>
                <option value="aug-pcj-2">aug-pcJ-2</option>
                <option value="aug-pcj-3">aug-pcJ-3</option>
                <option value="aug-pcj-4">aug-pcJ-4</option>
                <option value="aug-pcs-0">aug-pcS-0</option>
                <option value="aug-pcs-1">aug-pcS-1</option>
                <option value="aug-pcs-2">aug-pcS-2</option>
                <option value="aug-pcs-3">aug-pcS-3</option>
                <option value="aug-pcs-4">aug-pcS-4</option>
                <option value="aug-pcseg-0">aug-pcSeg-0</option>
                <option value="aug-pcseg-1">aug-pcSeg-1</option>
                <option value="aug-pcseg-2">aug-pcSeg-2</option>
                <option value="aug-pcseg-3">aug-pcSeg-3</option>
                <option value="aug-pcseg-4">aug-pcSeg-4</option>
                <option value="aug-pcsseg-0">aug-pcSSeg-0</option>
                <option value="aug-pcsseg-1">aug-pcSSeg-1</option>
                <option value="aug-pcsseg-2">aug-pcSSeg-2</option>
                <option value="aug-pcsseg-3">aug-pcSSeg-3</option>
                <option value="aug-pcsseg-4">aug-pcSSeg-4</option>
                <option value="aug-pcx-1">aug-pcX-1</option>
                <option value="aug-pcx-2">aug-pcX-2</option>
                <option value="aug-pcx-3">aug-pcX-3</option>
                <option value="aug-pcx-4">aug-pcX-4</option>
                <option value="aug-pv7z">aug-pV7Z</option>
                <option value="binning_641">Binning 641</option>
                <option value="binning_641+">Binning 641+</option>
                <option value="binning_641(d)">Binning 641(d)</option>
                <option value="binning_641+(d)">Binning 641+(d)</option>
                <option value="binning_641(df)">Binning 641(df)</option>
                <option value="binning_641+(df)">Binning 641+(df)</option>
                <option value="binning_962">Binning 962</option>
                <option value="binning_962+">Binning 962+</option>
                <option value="binning_962(d)">Binning 962(d)</option>
                <option value="binning_962+(d)">Binning 962+(d)</option>
                <option value="binning_962(df)">Binning 962(df)</option>
                <option value="binning_962+(df)">Binning 962+(df)</option>
                <option value="cc-pcv5z">cc-pCV5Z</option>
                <option value="cc-pcvdz">cc-pCVDZ</option>
                <option value="cc-pcvqz">cc-pCVQZ</option>
                <option value="cc-pcvtz">cc-pCVTZ</option>
                <option value="cc-pv5z">cc-pV5Z</option>
                <option value="cc-pv6z">cc-pV6Z</option>
                <option value="cc-pv8z">cc-pV8Z</option>
                <option value="cc-pv9z">cc-pV9Z</option>
                <option value="cc-pvdz">cc-pVDZ</option>
                <option value="cc-pvqz">cc-pVQZ</option>
                <option value="cc-pvtz">cc-pVTZ</option>
                <option value="def2-qzvp">def2-QZVP</option>
                <option value="def2-qzvpd">def2-QZVPD</option>
                <option value="def2-qzvpp">def2-QZVPP</option>
                <option value="def2-qzvppd">def2-QZVPPD</option>
                <option value="def2-sv(p)">def2-SV(P)</option>
                <option value="def2-svp">def2-SVP</option>
                <option value="6-31g(d)">6-31G(d)</option>
                <option value="cc-pVDZ">cc-pVDZ</option>
                <option value="cc-pVTZ">cc-pVTZ</option>
                <option value="def2-svpd">def2-SVPD</option>
                <option value="def2-svpd-rifit">def2-SVPD-RIFIT</option>
                <option value="def2-sv(p)-jkfit">def2-SV(P)-JKFIT</option>
                <option value="def2-sv(p)-rifit">def2-SV(P)-RIFIT</option>
                <option value="def2-svp-rifit">def2-SVP-RIFIT</option>
                <option value="def2-tzvp">def2-TZVP</option>
                <option value="def2-tzvpd">def2-TZVPD</option>
                <option value="def2-tzvpd-rifit">def2-TZVPD-RIFIT</option>
                <option value="def2-tzvpp">def2-TZVPP</option>
                <option value="def2-tzvppd">def2-TZVPPD</option>
                <option value="def2-tzvppd-rifit">def2-TZVPPD-RIFIT</option>
                <option value="def2-tzvpp-rifit">def2-TZVPP-RIFIT</option>
                <option value="def2-tzvp-rifit">def2-TZVP-RIFIT</option>
                <option value="def2-universal-jfit">def2-Universal-JFIT</option>
                <option value="def2-universal-jkfit">def2-Universal-JKFIT</option>
                <option value="dfo-1">DFO-1</option>
                <option value="dfo-1-bhs">DFO-1-BHS</option>
                <option value="dfo-2">DFO-2</option>
                <option value="dgauss-a1-dftjfit">DGAUSS-A1-DFTJFIT</option>
                <option value="dgauss-a1-dftxfit">DGAUSS-A1-DFTXFIT</option>
                <option value="dgauss-a2-dftjfit">DGAUSS-A2-DFTJFIT</option>
                <option value="dgauss-a2-dftxfit">DGAUSS-A2-DFTXFIT</option>
                <option value="dgauss-dzvp2">DGAUSS-DZVP2</option>
                <option value="dgauss-dzvp">DGAUSS-DZVP</option>
                <option value="dgauss-tzvp">DGAUSS-TZVP</option>
                <option value="dhf-ecp">DHF-ECP</option>
                <option value="dhf-qzvp">DHF-QZVP</option>
                <option value="dhf-qzvpp">DHF-QZVPP</option>
                <option value="dhf-sv(p)">DHF-SV(P)</option>
                <option value="dhf-svp">DHF-SVP</option>
                <option value="dhf-tzvp">DHF-TZVP</option>
                <option value="dhf-tzvpp">DHF-TZVPP</option>
                <option value="dz_+_double_rydberg_(dunning-hay)">DZ + Double Rydberg (Dunning-Hay)</option>
                <option value="dz_(dunning-hay)">DZ (Dunning-Hay)</option>
                <option value="dzp_+_diffuse_(dunning-hay)">DZP + Diffuse (Dunning-Hay)</option>
                <option value="dzp_(dunning-hay)">DZP (Dunning-Hay)</option>
                <option value="dzp_+_rydberg_(dunning-hay)">DZP + Rydberg (Dunning-Hay)</option>
                <option value="dz_+_rydberg_(dunning-hay)">DZ + Rydberg (Dunning-Hay)</option>
                <option value="fano-5z">FANO-5Z</option>
                <option value="fano-6z">FANO-6Z</option>
                <option value="fano-dz">FANO-DZ</option>
                <option value="fano-qz">FANO-QZ</option>
                <option value="fano-tz">FANO-TZ</option>
                <option value="hgbs-9">HGBS-9</option>
                <option value="hgbsp1-9">HGBSP1-9</option>
                <option value="hgbsp2-9">HGBSP2-9</option>
                <option value="hgbsp3-9">HGBSP3-9</option>
                <option value="iglo-ii">IGLO-II</option>
                <option value="iglo-iii">IGLO-III</option>
                <option value="jgauss-dzp">JGAUSS-DZP</option>
                <option value="jgauss-qz2p">JGAUSS-QZ2P</option>
                <option value="jgauss-qzp">JGAUSS-QZP</option>
                <option value="jgauss-tzp1">JGAUSS-TZP1</option>
                <option value="jgauss-tzp2">JGAUSS-TZP2</option>
                <option value="jorge-5zp">JORGE-5ZP</option>
                <option value="jorge-5zp-dkh">JORGE-5ZP-DKH</option>
                <option value="jorge-6zp">JORGE-6ZP</option>
                <option value="jorge-6zp-dkh">JORGE-6ZP-DKH</option>
                <option value="jorge-a5zp">JORGE-A5ZP</option>
                <option value="jorge-adzp">JORGE-ADZP</option>
                <option value="jorge-aqzp">JORGE-AQZP</option>
                <option value="jorge-atzp">JORGE-ATZP</option>
                <option value="jorge-dzp">JORGE-DZP</option>
                <option value="jorge-dzp-dkh">JORGE-DZP-DKH</option>
                <option value="jorge-qzp">JORGE-QZP</option>
                <option value="jorge-qzp-dkh">JORGE-QZP-DKH</option>
                <option value="jorge-tzp">JORGE-TZP</option>
                <option value="jorge-tzp-dkh">JORGE-TZP-DKH</option>
                <option value="jul-cc-pv(d+d)z">jul-cc-pV(D+D)Z</option>
                <option value="jul-cc-pv(q+d)z">jul-cc-pV(Q+D)Z</option>
                <option value="jul-cc-pv(t+d)z">jul-cc-pV(T+D)Z</option>
                <option value="jun-cc-pv(d+d)z">jun-cc-pV(D+D)Z</option>
                <option value="jun-cc-pv(q+d)z">jun-cc-pV(Q+D)Z</option>
                <option value="jun-cc-pv(t+d)z">jun-cc-pV(T+D)Z</option>
                <option value="lanl08">LANL08</option>
                <option value="lanl08+">LANL08+</option>
                <option value="lanl08(d)">LANL08(D)</option>
                <option value="lanl08(f)">LANL08(F)</option>
                <option value="lanl2dz">LANL2DZ</option>
                <option value="lanl2dzdp">LANL2DZDP</option>
                <option value="lanl2dz_ecp">LANL2DZ ECP</option>
                <option value="lanl2tz+">LANL2TZ+</option>
                <option value="lanl2tz">LANL2TZ</option>
                <option value="lanl2tz(f)">LANL2TZ(F)</option>
                <option value="m6-31g">M6-31G</option>
                <option value="m6-31g(d)">M6-31G(D)</option>
                <option value="maug-cc-pv(d+d)z">maug-cc-pV(D+D)Z</option>
                <option value="maug-cc-pv(q+d)z">maug-cc-pV(Q+D)Z</option>
                <option value="maug-cc-pv(t+d)z">maug-cc-pV(T+D)Z</option>
                <option value="may-cc-pv(q+d)z">may-cc-pV(Q+D)Z</option>
                <option value="may-cc-pv(t+d)z">may-cc-pV(T+D)Z</option>
                <option value="midi!">MIDI!</option>
                <option value="midi">MIDI</option>
                <option value="midi_huckel">MIDI Huckel</option>
                <option value="midix">MIDIx</option>
                <option value="mini">MINI</option>
                <option value="mini_huckel">MINI Huckel</option>
                <option value="modified-lanl2dz">Modified LANL2DZ</option>
                <option value="nasa_ames_ano2">NASA Ames ANO2</option>
                <option value="nasa_ames_ano">NASA Ames ANO</option>
                <option value="nasa_ames_cc-pcv5z">NASA Ames cc-PCV5Z</option>
                <option value="nasa_ames_cc-pcvqz">NASA Ames cc-PCVQZ</option>
                <option value="nasa_ames_cc-pcvtz">NASA Ames cc-PCVTZ</option>
                <option value="nasa_ames_cc-pv5z">NASA Ames cc-PV5Z</option>
                <option value="nasa_ames_cc-pvqz">NASA Ames cc-PVQZ</option>
                <option value="nasa_ames_cc-pvtz">NASA Ames cc-PVTZ</option>
                <option value="nlo-v">NLO-V</option>
                <option value="nmr-dkh_(tz2p)">NMR-DKH (TZ2P)</option>
                <option value="orp">ORP</option>
                <option value="partridge_uncontracted_1">Partridge Uncontracted 1</option>
                <option value="partridge_uncontracted_2">Partridge Uncontracted 2</option>
                <option value="partridge_uncontracted_3">Partridge Uncontracted 3</option>
                <option value="partridge_uncontracted_4">Partridge Uncontracted 4</option>
                <option value="pc-0">PC-0</option>
                <option value="pc-1">PC-1</option>
                <option value="pc-2">PC-2</option>
                <option value="pc-3">PC-3</option>
                <option value="pc-4">PC-4</option>
                <option value="pcemd-2">PCEMD-2</option>
                <option value="pcemd-3">PCEMD-3</option>
                <option value="pcemd-4">PCEMD-4</option>
                <option value="pch-1">PCH-1</option>
                <option value="pch-2">PCH-2</option>
                <option value="pch-3">PCH-3</option>
                <option value="pch-4">PCH-4</option>
                <option value="pcj-0_2006">PCJ-0 (2006)</option>
                <option value="pcj-0">PCJ-0</option>
                <option value="pcj-1_2006">PCJ-1 (2006)</option>
                <option value="pcj-1">PCJ-1</option>
                <option value="pcj-2_2006">PCJ-2 (2006)</option>
                <option value="pcj-2">PCJ-2</option>
                <option value="pcj-3_2006">PCJ-3 (2006)</option>
                <option value="pcj-3">PCJ-3</option>
                <option value="pcj-4_2006">PCJ-4 (2006)</option>
                <option value="pcj-4">PCJ-4</option>
                <option value="pcs-0">PCS-0</option>
                <option value="pcs-1">PCS-1</option>
                <option value="pcs-2">PCS-2</option>
                <option value="pcs-3">PCS-3</option>
                <option value="pcs-4">PCS-4</option>
                <option value="pcseg-0">PCSEG-0</option>
                <option value="pcseg-1">PCSEG-1</option>
                <option value="pcseg-2">PCSEG-2</option>
                <option value="pcseg-3">PCSEG-3</option>
                <option value="pcseg-4">PCSEG-4</option>
                <option value="pcsseg-0">PCSSEG-0</option>
                <option value="pcsseg-1">PCSSEG-1</option>
                <option value="pcsseg-2">PCSSEG-2</option>
                <option value="pcsseg-3">PCSSEG-3</option>
                <option value="pcsseg-4">PCSSEG-4</option>
                <option value="pcx-1">PCX-1</option>
                <option value="pcx-2">PCX-2</option>
                <option value="pcx-3">PCX-3</option>
                <option value="pcx-4">PCX-4</option>
                <option value="psbkjc">PSBKJC</option>
                <option value="pt_-_mdzp">PT - MDZP</option>
                <option value="pv6z">PV6Z</option>
                <option value="pv7z">PV7Z</option>
                <option value="roos_augmented_double_zeta_ano">ROOS Augmented Double Zeta ANO</option>
                <option value="roos_augmented_triple_zeta_ano">ROOS Augmented Triple Zeta ANO</option>
                <option value="s3-21g">S3-21G</option>
                <option value="s3-21g(d)">S3-21G(D)</option>
                <option value="s6-31g">S6-31G</option>
                <option value="s6-31g(d)">S6-31G(D)</option>
                <option value="sadlej+">Sadlej+</option>
                <option value="sadlej_pvtz">Sadlej-PVTZ</option>
                <option value="sap_grasp_large">SAP GRASP Large</option>
                <option value="sap_grasp_small">SAP GRASP Small</option>
                <option value="sap_helfem_large">SAP HELFEM Large</option>
                <option value="sap_helfem_small">SAP HELFEM Small</option>
                <option value="sapporo-dkh3-dzp-2012">Sapporo-DKH3-DZP-2012</option>
                <option value="sapporo-dkh3-dzp-2012-diffuse">Sapporo-DKH3-DZP-2012 Diffuse</option>
                <option value="sapporo-dkh3-dzp">Sapporo-DKH3-DZP</option>
                <option value="sapporo-dkh3-dzp-diffuse">Sapporo-DKH3-DZP Diffuse</option>
                <option value="sapporo-dkh3-qzp-2012">Sapporo-DKH3-QZP-2012</option>
                <option value="sapporo-dkh3-qzp-2012-diffuse">Sapporo-DKH3-QZP-2012 Diffuse</option>
                <option value="sapporo-dkh3-qzp">Sapporo-DKH3-QZP</option>
                <option value="sapporo-dkh3-qzp-diffuse">Sapporo-DKH3-QZP Diffuse</option>
                <option value="sapporo-dkh3-tzp-2012">Sapporo-DKH3-TZP-2012</option>
                <option value="sapporo-dkh3-tzp-2012-diffuse">Sapporo-DKH3-TZP-2012 Diffuse</option>
                <option value="sapporo-dkh3-tzp">Sapporo-DKH3-TZP</option>
                <option value="sapporo-dkh3-tzp-diffuse">Sapporo-DKH3-TZP Diffuse</option>
                <option value="sapporo-dzp-2012">Sapporo-DZP-2012</option>
                <option value="sapporo-dzp-2012-diffuse">Sapporo-DZP-2012 Diffuse</option>
                <option value="sapporo-dzp">Sapporo-DZP</option>
                <option value="sapporo-dzp-diffuse">Sapporo-DZP Diffuse</option>
                <option value="sapporo-qzp-2012">Sapporo-QZP-2012</option>
                <option value="sapporo-qzp-2012-diffuse">Sapporo-QZP-2012 Diffuse</option>
                <option value="sapporo-qzp">Sapporo-QZP</option>
                <option value="sapporo-qzp-diffuse">Sapporo-QZP Diffuse</option>
                <option value="sapporo-tzp-2012">Sapporo-TZP-2012</option>
                <option value="sapporo-tzp-2012-diffuse">Sapporo-TZP-2012 Diffuse</option>
                <option value="sapporo-tzp">Sapporo-TZP</option>
                <option value="sapporo-tzp-diffuse">Sapporo-TZP Diffuse</option>
                <option value="sarc2-qzv-dkh2">SARC2-QZV-DKH2</option>
                <option value="sarc2-qzv-dkh2-jkfit">SARC2-QZV-DKH2-JKFIT</option>
                <option value="sarc2-qzvp-dkh2">SARC2-QZVP-DKH2</option>
                <option value="sarc2-qzvp-dkh2-jkfit">SARC2-QZVP-DKH2-JKFIT</option>
                <option value="sarc2-qzvp-zora">SARC2-QZVP-ZORA</option>
                <option value="sarc2-qzvp-zora-jkfit">SARC2-QZVP-ZORA-JKFIT</option>
                <option value="sarc2-qzv-zora">SARC2-QZV-ZORA</option>
                <option value="sarc2-qzv-zora-jkfit">SARC2-QZV-ZORA-JKFIT</option>
                <option value="sarc-dkh2">SARC-DKH2</option>
                <option value="sarc-zora">SARC-ZORA</option>
                <option value="sbkjc-ecp">SBKJC-ECP</option>
                <option value="sbkjc_polarized_(p,2d)_-_lfk">SBKJC Polarized (P,2D) - LFK</option>
                <option value="sbkjc-vdz">SBKJC-VDZ</option>
                <option value="sbo4-dz(d)-3g">SBO4-DZ(D)-3G</option>
                <option value="sbo4-dz(d,p)-3g">SBO4-DZ(D,P)-3G</option>
                <option value="sbo4-sz-3g">SBO4-SZ-3G</option>
                <option value="scaled_mini">Scaled MINI</option>
                <option value="sto-2g">STO-2G</option>
                <option value="sto-3g">STO-3G</option>
                <option value="sto-3g(d)">STO-3G(D)</option>
                <option value="sto-4g">STO-4G</option>
                <option value="sto-5g">STO-5G</option>
                <option value="sto-6g">STO-6G</option>
                <option value="stuttgart_rlc">Stuttgart RLC</option>
                <option value="stuttgart_rlc_ecp">Stuttgart RLC ECP</option>
                <option value="stuttgart_rsc_1997">Stuttgart RSC 1997</option>
                <option value="stuttgart_rsc_1997_ecp">Stuttgart RSC 1997 ECP</option>
                <option value="stuttgart_rsc_ano">Stuttgart RSC ANO</option>
                <option value="stuttgart_rsc_segmented_+_ecp">Stuttgart RSC Segmented + ECP</option>
                <option value="sv_+_double_rydberg_(dunning-hay)">SV + Double Rydberg (Dunning-Hay)</option>
                <option value="sv_(dunning-hay)">SV (Dunning-Hay)</option>
                <option value="svp_+_diffuse_(dunning-hay)">SVP + Diffuse (Dunning-Hay)</option>
                <option value="svp_+_diffuse_+_rydberg_(dunning-hay)">SVP + Diffuse + Rydberg (Dunning-Hay)</option>
                <option value="svp_(dunning-hay)">SVP (Dunning-Hay)</option>
                <option value="svp_+_rydberg_(dunning-hay)">SVP + Rydberg (Dunning-Hay)</option>
                <option value="sv_+_rydberg_(dunning-hay)">SV + Rydberg (Dunning-Hay)</option>
                <option value="tz_(dunning-hay)">TZ (Dunning-Hay)</option>
                <option value="ugbs">UGBS</option>
                <option value="un-ccemd-ref">UN-CCEMD-REF</option>
                <option value="un-pcemd-ref">UN-PCEMD-REF</option>
                <option value="wachters+f">Wachters+F</option>
                <option value="wtbs">WTBS</option>
                <option value="x2c-jfit">X2C-JFIT</option>
                <option value="x2c-sv(p)all-2c">X2C-SV(P)ALL-2C</option>
                <option value="x2c-svpall-2c">X2C-SVPALL-2C</option>
                <option value="x2c-sv(p)all">X2C-SV(P)ALL</option>
                <option value="x2c-svpall">X2C-SVPALL</option>
                <option value="x2c-sv(p)all-s">X2C-SV(P)ALL-S</option>
                <option value="x2c-svpall-s">X2C-SVPALL-S</option>
                <option value="x2c-tzvpall-2c">X2C-TZVPALL-2C</option>
                <option value="x2c-tzvpall">X2C-TZVPALL</option>
                <option value="x2c-tzvpall-s">X2C-TZVPALL-S</option>
                <option value="x2c-tzvppall-2c">X2C-TZVPPALL-2C</option>
                <option value="x2c-tzvppall">X2C-TZVPPALL</option>
                <option value="x2c-tzvppall-s">X2C-TZVPPALL-S</option>
            </select>
            <p id="selectedBasis">Selected Basis Set: None</p>



            <label for="functionalSearch">Functional:</label>
            <input type="text" id="functionalSearch" placeholder="Search functionals..." onfocus="showFunctionalDropdown()" onkeyup="filterFunctionalOptions()">
            <select id="functional" size="5" style="display: none;" onclick="selectFunctionalOption()" onchange="updateInputPreview()"> 
                <option value="hfex">HFEX</option>
                <option value="slater">SLATER</option>
                <option value="teter">TETER</option>
                <option value="ksdt">KSDT</option>
                <option value="corrksdt">CORRKSDT</option>
                <option value="gdsmb">GDSMFB</option>
                <option value="zlp-20">ZLP-20</option>
                <option value="pbe">PBE</option>
                <option value="pbepbe">PBEPBE</option>
                <option value="revpbe">REVPBE</option>
                <option value="rpbe">RPBE</option>
                <option value="pw91">PW91</option>
                <option value="am05">AM05</option>
                <option value="pbesol">PBESOL</option>
                <option value="wc">WC</option>
                <option value="chachiyo">CHACHIYO</option>
                <option value="blyp">BLYP</option>
                <option value="olyp">OLYP</option>
                <option value="xlyp">XLYP</option>
                <option value="kt1">KT1</option>
                <option value="kt2">KT2</option>
                <option value="kt3">KT3</option>
                <option value="th1">TH1</option>
                <option value="th2">TH2</option>
                <option value="th3">TH3</option>
                <option value="th4">TH4</option>
                <option value="hcth93">HCTH93</option>
                <option value="hcth120">HCTH120</option>
                <option value="hcth407p">HCTH407+</option>
                <option value="hcth-p14">HCTH-P14</option>
                <option value="pbe1w">PBE1W</option>
                <option value="mpwlyp1">MPWLYP1</option>
                <option value="mo0hlyp-2">MOHLYP-2</option>
                <option value="pber">PBEPBE</option>
                <option value="kt2">KT2</option>
                <option value="hfex">HFEX</option>
                <option value="slater">SLATER</option>
                <option value="teter">TETER</option>
                <option value="ksdt">KSDT</option>
                <option value="corrksdt">CORRKSDT</option>
                <option value="gdsmfb">GDSMFB</option>
                <option value="zlp-20">ZLP-20</option>
                <option value="pbe">PBE</option>
                <option value="pbepbe">PBEPBE</option>
                <option value="revpbe">REVPBE</option>
                <option value="rpbe">RPBE</option>
                <option value="pw91">PW91</option>
                <option value="am05">AM05</option>
                <option value="pbesol">PBESOL</option>
                <option value="wc">WC</option>
                <option value="chachiyo">CHACHIYO</option>
                <option value="blyp">BLYP</option>
                <option value="olyp">OLYP</option>
                <option value="xlyp">XLYP</option>
                <option value="kt1">KT1</option>
                <option value="kt2">KT2</option>
                <option value="kt3">KT3</option>
                <option value="th1">TH1</option>
                <option value="th2">TH2</option>
                <option value="th3">TH3</option>
                <option value="th4">TH4</option>
                <option value="hcth93">HCTH93</option>
                <option value="hcth120">HCTH120</option>
                <option value="hcth147">HCTH147</option>
                <option value="hcth407">HCTH407</option>
                <option value="hcth407+">HCTH407+</option>
                <option value="hcth407p">HCTH407P</option>
                <option value="hcth-a">HCTH-A</option>
                <option value="hcth-p14">HCTH-P14</option>
                <option value="hcth-p76">HCTH-P76</option>
                <option value="pbe1w">PBE1W</option>
                <option value="mpwlyp1w">MPWLYP1W</option>
                <option value="pbelyp1w">PBELYP1W</option>
                <option value="gam">GAM</option>
                <option value="mohlyp">MOHLYP</option>
                <option value="mohlyp-2">MOHLYP-2</option>
                <option value="mohlyp2">MOHLYP2</option>
                <option value="sogga11">SOGGA11</option>
                <option value="n12">N12</option>
                <option value="hle16">HLE16</option>
                <option value="edf1">EDF1</option>
                <option value="lb07">LB07</option>
                <option value="ncap">NCAP</option>
                <option value="htbs">HTBS</option>
                <option value="pkzb">PKZB</option>
                <option value="tpss">TPSS</option>
                <option value="revtpss">REVTPSS</option>
                <option value="modtpss">MODTPSS</option>
                <option value="tpssloc">TPSSLOC</option>
                <option value="tpss-loc">TPSS-LOC</option>
                <option value="rtpss">RTPSS</option>
                <option value="regtpss">REGTPSS</option>
                <option value="mvs">MVS</option>
                <option value="mvsb">MVSB</option>
                <option value="mvsb*">MVSB*</option>
                <option value="mvsbs">MVSBS</option>
                <option value="ms0">MS0</option>
                <option value="ms1">MS1</option>
                <option value="ms2">MS2</option>
                <option value="ms2b">MS2B</option>
                <option value="ms2b*">MS2B*</option>
                <option value="ms2bs">MS2BS</option>
                <option value="scan">SCAN</option>
                <option value="rscan">RSCAN</option>
                <option value="regscan">REGSCAN</option>
                <option value="rppscan">RPPSCAN</option>
                <option value="r++scan">R++SCAN</option>
                <option value="r2scan">R2SCAN</option>
                <option value="r2scan01">R2SCAN01</option>
                <option value="r4scan">R4SCAN</option>
                <option value="revscan">REVSCAN</option>
                <option value="task">TASK</option>
                <option value="tm">TM</option>
                <option value="revtm">REVTM</option>
                <option value="regtm">REGTM</option>
                <option value="rregtm">RREGTM</option>
                <option value="mggac">MGGAC</option>
                <option value="rmggac">RMGGAC</option>
                <option value="tauhcth">TAUHCTH</option>
                <option value="thcth">THCTH</option>
                <option value="vsxc">VSXC</option>
                <option value="tpsslyp1w">TPSSLYP1W</option>
                <option value="m06-l">M06-L</option>
                <option value="m06l">M06L</option>
                <option value="revm06-l">REVM06-L</option>
                <option value="revm06l">REVM06L</option>
                <option value="m11-l">M11-L</option>
                <option value="m11l">M11L</option>
                <option value="mn12-l">MN12-L</option>
                <option value="mn12l">MN12L</option>
                <option value="mn15-l">MN15-L</option>
                <option value="mn15l">MN15L</option>
                <option value="hle17">HLE17</option>
                <option value="hlta">HLTA</option>
                <option value="lda0">LDA0</option>
                <option value="cam-lda0">CAM-LDA0</option>
                <option value="apf">APF</option>
                <option value="b1wc">B1WC</option>
                <option value="pbe0">PBE0</option>
                <option value="pbe-25">PBE-25</option>
                <option value="pbe1pbe">PBE1PBE</option>
                <option value="pbe-33">PBE-33</option>
                <option value="pbe-38">PBE-38</option>
                <option value="pbe-3/8">PBE-3/8</option>
                <option value="pbe-50">PBE-50</option>
                <option value="pbe-2x">PBE-2X</option>
                <option value="pbe-3x">PBE-3X</option>
                <option value="bhh">BHH</option>
                <option value="b1pw91">B1PW91</option>
                <option value="b3pw91">B3PW91</option>
                <option value="blyp35">BLYP35</option>
                <option value="b1lyp">B1LYP</option>
                <option value="bhhlyp">BHHLYP</option>
                <option value="stg1x">STG1X</option>
                <option value="b3lyp">B3LYP</option>
                <option value="b3lypv1r">B3LYPV1R</option>
                <option value="b3lypv3">B3LYPV3</option>
                <option value="b3lypv5">B3LYPV5</option>
                <option value="b3lyp5">B3LYP5</option>
                <option value="o3lyp">O3LYP</option>
                <option value="x3lyp">X3LYP</option>
                <option value="revb3lyp">REVB3LYP</option>
                <option value="b3lyp*">B3LYP*</option>
                <option value="b3lyps">B3LYPS</option>
                <option value="b50lyp">B50LYP</option>
                <option value="b5050lyp">B5050LYP</option>
                <option value="kmlyp">KMLYP</option>
                <option value="case21">CASE21</option>
                <option value="b97-1p">B97-1P</option>
                <option value="b97">B97</option>
                <option value="b97-1">B97-1</option>
                <option value="b97-2">B97-2</option>
                <option value="b97-3">B97-3</option>
                <option value="b97-k">B97-K</option>
                <option value="mpwlyp1m">MPWLYP1M</option>
                <option value="mpw1k">MPW1K</option>
                <option value="mpw1pbe">MPW1PBE</option>
                <option value="mpw1pw">MPW1PW</option>
                <option value="mpw1pw91">MPW1PW91</option>
                <option value="mpw1lyp">MPW1LYP</option>
                <option value="mpw3pw">MPW3PW</option>
                <option value="mpw3pw91">MPW3PW91</option>
                <option value="mpw3lyp">MPW3LYP</option>
                <option value="sogga11-x">SOGGA11-X</option>
                <option value="sogga11x">SOGGA11X</option>
                <option value="qtp17">QTP17</option>
                <option value="edf2">EDF2</option>
                <option value="hpbeint">HPBEINT</option>
                <option value="cap0">CAP0</option>
                <option value="wc04">WC04</option>
                <option value="wp04">WP04</option>
                <option value="wb97">WB97</option>
                <option value="wb97x">WB97X</option>
                <option value="hse03">HSE03</option>
                <option value="hse06">HSE06</option>
                <option value="hse12">HSE12</option>
                <option value="hse12-s">HSE12-S</option>
                <option value="hsesol">HSESOL</option>
                <option value="mcam-b3lyp">MCAM-B3LYP</option>
                <option value="mcamb3lyp">MCAMB3LYP</option>
                <option value="cam-b3lyp">CAM-B3LYP</option>
                <option value="camb3lyp">CAMB3LYP</option>
                <option value="camh-b3lyp">CAMH-B3LYP</option>
                <option value="cambh3lyp">CAMHB3LYP</option>
                <option value="dtcam-tune">DTCAM-TUNE</option>
                <option value="cdtcametune">CDTCAMTUNE</option>
                <option value="dtcam-vaee">DTCAM-VAEE</option>
                <option value="dtcamvee">DTCAMVEE</option>
                <option value="dtcam-xiv">DTCAM-XIV</option>
                <option value="dtcamxiv">DTCAMXIV</option>
                <option value="dtcam-xi">DTCAM-XI</option>
                <option value="dtcamxi">DTCAMXI</option>
                <option value="dtcam-aee">DTCAM-AEE</option>
                <option value="dtcamaee">DTCAMAEE</option>
                <option value="dtcam-vee">DTCAM-VEE</option>
                <option value="dtcamvee">DTCAMVEE</option>
                <option value="dtcam-stg">DTCAM-STG</option>
                <option value="dtcamstg">DTCAMSTG</option>
                <option value="rcam-b3lyp">RCAM-B3LYP</option>
                <option value="rcamb3lyp">RCAMB3LYP</option>
                <option value="tuncam-b3lyp">TUNCAM-B3LYP</option>
                <option value="tunedcam-b3lyp">TUNEDCAM-B3LYP</option>
                <option value="cam-qtp00">CAM-QTP00</option>
                <option value="camqtp00">CAMQTP00</option>
                <option value="cam-qtp(00)">CAM-QTP(00)</option>
                <option value="cam-qtp-00">CAM-QTP-00</option>
                <option value="cam-qtp01">CAM-QTP01</option>
                <option value="camqtp01">CAMQTP01</option>
                <option value="cam-qtp(01)">CAM-QTP(01)</option>
                <option value="cam-qtp-01">CAM-QTP-01</option>
                <option value="cam-qtp02">CAM-QTP02</option>
                <option value="camqtp02">CAMQTP02</option>
                <option value="cam-qtp(02)">CAM-QTP(02)</option>
                <option value="cam-qtp-02">CAM-QTP-02</option>
                <option value="cam-pbeh">CAM-PBEH</option>
                <option value="lrc-wpbeh">LRC-WPBEH</option>
                <option value="lrc-wpbe">LRC-WPBE</option>
                <option value="lc-wpbe">LC-WPBE</option>
                <option value="lcwpbe">LCWPBE</option>
                <option value="whpbe0">WHPBE0</option>
                <option value="n12-sx">N12-SX</option>
                <option value="n12sx">N12SX</option>
                <option value="lc-qtp">LC-QTP</option>
                <option value="lc-blyp">LC-BLYP</option>
                <option value="tpssh">TPSSH</option>
                <option value="tpss0">TPSS0</option>
                <option value="revtpssh">REVTPSSH</option>
                <option value="ms2h">MS2H</option>
                <option value="mvsh">MVSH</option>
                <option value="scan0">SCAN0</option>
                <option value="revscan0">REVSCAN0</option>
                <option value="hybtauhcth">HYBTAUHCTH</option>
                <option value="hybthcth">HYBTHCTH</option>
                <option value="hyb-thcth">HYB-THCTH</option>
                <option value="hyb-tauhcth">HYB-TAUHCTH</option>
                <option value="thcthhyb">THCTHHYB</option>
                <option value="tauhcthhyb">TAUHCTHHYB</option>
                <option value="bmk">BMK</option>
                <option value="dldf">DLDF</option>
                <option value="m05">M05</option>
                <option value="m05-2x">M05-2X</option>
                <option value="m052x">M052X</option>
                <option value="m06">M06</option>
                <option value="revm06">REVM06</option>
                <option value="m06-2x">M06-2X</option>
                <option value="m062x">M062X</option>
                <option value="m06-hf">M06-HF</option>
                <option value="m06hf">M06HF</option>
                <option value="m08-so">M08-SO</option>
                <option value="m08-hx">M08-HX</option>
                <option value="mn15">MN15</option>
                <option value="pw86bc95">PW86BC95</option>
                <option value="pw86b95">PW86B95</option>
                <option value="bb1k">BB1K</option>
                <option value="mpw1bc95">MPW1BC95</option>
                <option value="mpw1b95">MPW1B95</option>
                <option value="mpw1b1k">MPW1B1K</option>
                <option value="pw6bc95">PW6BC95</option>
                <option value="pw6b95">PW6B95</option>
                <option value="pwb6k">PWB6K</option>
                <option value="mpw1kcis">MPW1KCIS</option>
                <option value="mpwkcis1k">MPWKCIS1K</option>
                <option value="b0kcis">B0KCIS</option>
                <option value="pbe1kcis">PBE1KCIS</option>
                <option value="tpss1kcis">TPSS1KCIS</option>
                <option value="x1bc95">X1BC95</option>
                <option value="x1b95">X1B95</option>
                <option value="xb1k">XB1K</option>
                <option value="b88bc95">B88BC95</option>
                <option value="bbc95">BBC95</option>
                <option value="b88b95">B88B95</option>
                <option value="bb95">BB95</option>
                <option value="b86bc95">B86BC95</option>
                <option value="b86b95">B86B95</option>
                <option value="m06-sx">M06-SX</option>
                <option value="m06sx">M06SX</option>
                <option value="m11">M11</option>
                <option value="revm11">REVM11</option>
                <option value="mn12-sx">MN12-SX</option>
                <option value="mn12sx">MN12SX</option>
                <option value="pbe0-dh">PBE0-DH</option>
                <option value="tpss0-dh">TPSS0-DH</option>
                <option value="scan0-dh">SCAN0-DH</option>
                <option value="pbe-qidh">PBE-QIDH</option>
                <option value="tpss-qidh">TPSS-QIDH</option>
                <option value="scan-qidh">SCAN-QIDH</option>
                <option value="pbe0-2">PBE0-2</option>
                <option value="tpss0-2">TPSS0-2</option>
                <option value="scan0-2">SCAN0-2</option>
                <option value="b2-plyp">B2-PLYP</option>
                <option value="b2plyp">B2PLYP</option>
                <option value="b2gp-plyp">B2GP-PLYP</option>
                <option value="b2gp-plyp">B2GPPLYP</option>
                <option value="b2t-plyp">B2T-PLYP</option>
                <option value="b2tplpy">B2TPLYP</option>
                <option value="b2kplyp">B2K-PLYP</option>
                <option value="mpw2-plyp">MPW2-PLYP</option>
                <option value="mpw2plyp">MPW2PLYP</option>
                <option value="mpwkplyp">MPWK-PLYP</option>
                <option value="mpwkclyp">MPWKPLYP</option>
                <option value="mpwk-plyp">MPWK-PLYP</option>
                <option value="mpwkplyp">MPWKPLYP</option>
                <option value="b2k-plyp">B2K-PLYP</option>
                <option value="b2kplyp">B2KPLYP</option>
                <option value="mpw2plyp">MPW2PLYP</option>
                <option value="scan0-2">SCAN0-2</option>
                <option value="tpqidh">TPSS-QIDH</option>
                <option value="revscan0">REVSCAN0</option>
                <option value="bb95">BB95</option>
                <option value="bb1k">BB1K</option>
                <option value="mn15">MN15</option>
                <option value="bmhyb">BMHYB</option>
                <option value="rcamm">RCAMM</option>
                <option value="bbhcm">BBHCM</option>
                <option value="x1bc95">X1BC95</option>
                <option value="x1b95">X1B95</option>
                <option value="n12sx">N12SX</option>
                <option value="n12-sx">N12-SX</option>
                <option value="wp04">WP04</option>
                <option value="lcqtp">LCQTP</option>
                <option value="lcwp">LCWP</option>
                <option value="mn15-l">MN15-L</option>
                <option value="b3lyp">B3LYP</option>
                <option value="revtpss">REVTPSS</option>
                <option value="tpqidh">TPSS-QIDH</option>
                <option value="scan-qidh">SCAN-QIDH</option>
                <option value="lc-qtp">LC-QTP</option>
                <option value="scan0-2">SCAN0-2</option>
                <option value="tpssh">TPSSH</option>
                <option value="modscan">MODSCAN</option>
                <option value="cam-layl">CAM-LAYL</option>
                <option value="bm2k">BM2K</option>
                <option value="mn2k">MN2K</option>
                <option value="scan">SCAN</option>
                <option value="lcwp">LCWP</option>
                <option value="wp04">WP04</option>
                <option value="cam-pbeh">CAM-PBEH</option>
                <option value="b2k-plyp">B2K-PLYP</option>
                <option value="mn12-sx">MN12-SX</option>
                <option value="revm11">REVM11</option>
                <option value="tpqidh">TPSS-QIDH</option>
                <option value="m08-so">M08-SO</option>
                <option value="tpqidh">TPSS-QIDH</option>
                <option value="scan-qidh">SCAN-QIDH</option>
                <option value="m06-hf">M06-HF</option>
                <option value="m06hf">M06HF</option>
                <option value="m08-so">M08-SO</option>
                <option value="b3lypv1r">B3LYPV1R</option>
                <option value="tunedcam">TUNEDCAM</option>
            </select>
            <p id="selectedFunctional">Selected Functional: None</p>


            <div class="inline-group">
                <div class="input-small">
                    <label for="charge">Charge:</label>
                    <input type="number" id="charge" value="0" oninput="updateInputPreview()">
                </div>
                <div class="input-small">
                    <label for="multiplicity">Multiplicity:</label>
                    <input type="number" id="multiplicity" value="1" oninput="updateInputPreview()">
                </div>
            </div>
            <div style="margin-top: 1rem;">
                <label for="nstate">Number of States for Response Theories:</label>
                <input type="number" id="nstate" value="3" oninput="updateInputPreview()">
            </div>
            <div style="display: inline-block; margin-right: 10px;">
                <label for="istate">Lower State for MECI Calculation:</label>
                <input type="number" id="istate" value="1" oninput="updateInputPreview()">
            </div>
            <div style="display: inline-block;">
                <label for="jstate">Upper State for MECI Calculation:</label>
                <input type="number" id="jstate" value="2" oninput="updateInputPreview()">
            </div>



        </div>

        <!-- Right Panel: Molecule Viewer, Real-Time Input Preview and Save Button -->
        <div class="panel right-panel">
            <!-- New Molecule Viewer Section -->
            <div class="viewer-section">
                <h2>Molecule Viewer</h2>
                <div id="viewer"></div>
            </div>

            <h2>Generated Input</h2>
            <textarea id="inputPreview" contenteditable="true">
 # OpenQP Input Preview
            </textarea>
            <button type="button" onclick="saveAndDownloadFiles()">Save Input & Geometry</button>
            <button type="button" onclick="submitJob()">Run Calculation</button>
            <div id="jobStatusContainer" style="margin-top: 1.5em;">
                <h3>Job Status</h3>
            </div>
            <div style="margin-top: 1.5em;">
                <h3>Useful Links</h3>
                <ul style="list-style-type: none; padding-left: 0; margin: 0;">
                    <li style="margin-bottom: 0.5em;">
                        <a href="https://github.com/Open-Quantum-Platform/openqp.git" target="_blank" style="color: #1d3557; text-decoration: none; font-weight: 500;">
                            OpenQP Source Code
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5em;">
                        <a href="https://github.com/Open-Quantum-Platform/openqp/wiki" target="_blank" style="color: #1d3557; text-decoration: none; font-weight: 500;">
                            OpenQP Documentation Wiki
                        </a>
                    </li>
                    <li>
                        <a href="https://www.openqp.org/" target="_blank" style="color: #1d3557; text-decoration: none; font-weight: 500;">
                            OpenQP Webpage
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    <script>
        // Modified updateInputPreview function
        function updateInputPreview() {
            // Existing input gathering
            const systemName = document.getElementById("systemName").value || "Geo";
            const geometry = document.getElementById("geometry").value.trim() || "# Geometry not provided";
            const charge = document.getElementById("charge").value || "0";
            const multiplicity = document.getElementById("multiplicity").value || "1";
            const functional = document.getElementById("functional").value || "bhhlyp";
            const basis = document.getElementById("basis").value || "6-31g(d)";
            const calcType = document.getElementById("calcType").value || "dft_energy";
            const nstate = document.getElementById("nstate").value || "3";
            const istate = document.getElementById("istate").value || "1";
            const jstate = document.getElementById("jstate").value || "2";

            // Update the input preview
            const inputTemplate = getInputTemplate(calcType, systemName, geometry, charge, multiplicity, 
                                                functional, basis, nstate, istate, jstate);
            document.getElementById("inputPreview").value = inputTemplate.trim();

            // Update the 3D viewer with the geometry
            if (geometry && geometry !== "# Geometry not provided") {
                updateViewer(geometry);
            }
        }

        function getInputTemplate(calcType, systemName, geometry, charge, multiplicity, functional, basis, nstate, istate, jstate) {
            switch (calcType) {
                    // Templates for each calculation type
                case "dft_energy":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=energy
functional=${functional}
basis=${basis}
method=hf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rhf

[dftgrid]
rad_type=becke
                    `;
                    case "dft_gradient":
                        return `
[input]
system=${systemName}.xyz
charge=${charge}
basis=${basis}
runtype=grad
functional=${functional}
method=hf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rhf

[properties]
grad=0

[dftgrid]
rad_type=becke
                 `;
                case "tdhf_energy":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=energy
basis=${basis}
method=tdhf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rhf

[tdhf]
nstate=${nstate}
                `;
                case "tdhf_gradient":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=grad
basis=${basis}
method=tdhf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rhf

[tdhf]
nstate=${nstate}
                `;
                case "sf-tddft_energy":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=energy
basis=${basis}
functional=${functional}
method=tdhf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rohf

[tdhf]
type=sf
nstate=${nstate}
                    `;
                case "sf_tddft_gradient":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=grad
basis=${basis}
functional=${functional}
method=tdhf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rohf

[tdhf]
type=sf
nstate=${nstate}

[properties]
grad=3
                    `;
                case "mrsf-tddft_energy":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=energy
basis=${basis}
functional=${functional}
method=tdhf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rohf

[tdhf]
type=mrsf
nstate=${nstate}
                    `;
                case "mrsf-tddft_gradient":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=grad
basis=${basis}
functional=${functional}
method=tdhf

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rohf

[tdhf]
type=mrsf
nstate=${nstate}

[properties]
grad=3
                    `;
                case "dft_numerical_hessian":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
functional=${functional}
basis=${basis}
runtype=hess
method=hf

[scf]
type=rhf
multiplicity=${multiplicity}

[hess]
state=0
                    `;
                case "mrdf-tddft_numerical_hessian":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
functional=${functional}
basis=${basis}
runtype=hess
method=tdhf

[scf]
type=rohf
multiplicity=${multiplicity}

[tdhf]
type=mrsf
nstate=${nstate}

[hess]
state=1
                    `;
                case "dft_optimization":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
functional=${functional}
basis=${basis}
runtype=optimize
method=hf

[scf]
type=rhf
multiplicity=${multiplicity}

[optimize]
istate=0
                    `;
                case "mrsf-tddft_optimization":
                    return `
[input]
system=${systemName}.xyz
charge=${charge}
functional=${functional}
basis=${basis}
runtype=optimize
method=tdhf

[scf]
type=rohf
multiplicity=${multiplicity}

[tdhf]
type=mrsf
nstate=${nstate}

[optimize]
istate=1
                    `;
                case "mrsf-tddft_mep_optimization":
                    return `
[input]
system=${systemName}.xyz
runtype=mep
functional=${functional}
charge=${charge}
method=tdhf
basis=${basis}

[scf]
type=rohf
maxit=50
multiplicity=${multiplicity}

[tdhf]
type=mrsf
nstate=${nstate}

[optimize]
optimizer=bfgs
maxit=100
mep_maxit=2
istate=2
energy_shift=1e-3
step_size=0.1
step_tol=0.01
rmsd_grad=3e-3
max_grad=5e-3
                    `;
                case "mrsf-tddft_meci_optimization":
                    return `
[input]
system=${systemName}.xyz
runtype=meci
functional=${functional}
charge=${charge}
method=tdhf
basis=${basis}

[scf]
type=rohf
maxit=50
multiplicity=${multiplicity}

[tdhf]
type=mrsf
nstate=${nstate}

[optimize]
optimizer=bfgs
maxit=50
istate=${istate}
jstate=${jstate}
energy_shift=1e-5
energy_gap=1e-4
rmsd_grad=5e-4
max_grad=1e-3
                    `;
             }
        }
        async function submitJob() {
            const systemName = document.getElementById("systemName").value || "geo";
            const geometry = document.getElementById("geometry").value.trim();
            const inputContent = document.getElementById("inputPreview").value;

            if (!geometry || !inputContent) {
                alert("Please provide valid geometry and input files.");
                return;
            }

            const formData = new FormData();
            formData.append("systemName", systemName);
            formData.append("geometry", geometry);
            formData.append("input", inputContent);

            const jobStatusContainer = document.getElementById("jobStatusContainer");
            const jobElement = document.createElement("div");
            jobElement.id = `job-${systemName}`;
            jobElement.style.border = "1px solid #ccc";
            jobElement.style.padding = "1em";
            jobElement.style.marginBottom = "1em";

            const currentTime = new Date();
            jobElement.innerHTML = `
                <p><strong>Job Name:</strong> ${systemName}</p>
                <p><strong>Submission Date:</strong> ${currentTime.toLocaleString()}</p>
                <p><strong>Status:</strong> <span id="status-${systemName}">Submitting...</span></p>
                <p><strong>Elapsed Time:</strong> <span id="elapsed-${systemName}">0s</span></p>
            `;
            jobStatusContainer.appendChild(jobElement);

            const startTime = Date.now();
            const elapsedInterval = setInterval(() => {
                const elapsedTime = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById(`elapsed-${systemName}`).textContent = `${elapsedTime}s`;
            }, 1000);

            try {
                const response = await fetch("http://127.0.0.1:5000/submit-job", {
                    method: "POST",
                    body: formData,
                });

                if (response.ok) {
                    const result = await response.json(); 
                    if (result.success) {
                        document.getElementById(`status-${systemName}`).textContent = "Completed";

                        const downloadButton = document.createElement("button");
                        downloadButton.textContent = "Download Log File";
                        downloadButton.style.marginTop = "1em";
                        downloadButton.onclick = () => downloadLogFile(systemName, result.logFile);
                        jobElement.appendChild(downloadButton);
                    } else {
                        document.getElementById(`status-${systemName}`).textContent = `Failed: ${result.error}`;
                        appendErrorDetails(jobElement, result.stderr || result.error);
                    }
                } else {
                    document.getElementById(`status-${systemName}`).textContent = "Failed to connect to server";
                }
            } catch (error) {
                console.error("Error submitting job:", error);
                document.getElementById(`status-${systemName}`).textContent = "Error submitting job";
                appendErrorDetails(jobElement, error.message);
            } finally {
                clearInterval(elapsedInterval); 
            }
        }

        function downloadLogFile(systemName, logContent) {
            const blob = new Blob([logContent], { type: "text/plain" });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `${systemName}.log`;
            link.click();
            URL.revokeObjectURL(link.href);
        }

        function appendErrorDetails(jobElement, errorDetails) {
            const errorDiv = document.createElement("div");
            errorDiv.style.color = "red";
            errorDiv.style.marginTop = "1em";
            errorDiv.innerHTML = `<strong>Error Details:</strong><pre>${errorDetails}</pre>`;
            jobElement.appendChild(errorDiv);
        }


        function loadGeometryFromFile() {
            const fileInput = document.getElementById("loadGeometry");
            const geometryTextarea = document.getElementById("geometry");
            const systemNameInput = document.getElementById("systemName");
            
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    const content = event.target.result.trim();
                    geometryTextarea.value = content;
                    
                    updateInputPreview();
                    
                    const fileNameWithoutExtension = file.name.replace(/\.xyz$/i, "");
                    systemNameInput.value = fileNameWithoutExtension;
                    updateInputPreview(); 
                };
                
                reader.readAsText(file);
            }
        } 
        function saveAndDownloadFiles() {
            const systemName = document.getElementById("systemName").value || "geo";
            
            const inputContent = document.getElementById("inputPreview").value;
            const inputBlob = new Blob([inputContent], { type: "text/plain" });
            const inputUrl = URL.createObjectURL(inputBlob);
            const inputLink = document.createElement("a");
            inputLink.href = inputUrl;
            inputLink.download = `${systemName}.inp`;
            inputLink.click();
            URL.revokeObjectURL(inputUrl);

            const geometry = document.getElementById("geometry").value.trim();
            const geoBlob = new Blob([geometry], { type: "text/plain" });
            const geoUrl = URL.createObjectURL(geoBlob);
            const geoLink = document.createElement("a");
            geoLink.href = geoUrl;
            geoLink.download = `${systemName}.xyz`;
            geoLink.click();
            URL.revokeObjectURL(geoUrl);
        }

        function showDropdown() {
            const dropdown = document.getElementById("basis");
            dropdown.style.display = "block";
        }
        function filterBasisOptions() {
            const searchInput = document.getElementById("basisSearch").value.toLowerCase();
            const select = document.getElementById("basis");
            const options = select.options;

            select.selectedIndex = -1;

            for (let i = 0; i < options.length; i++) {
                const optionText = options[i].text.toLowerCase();
                if (optionText.includes(searchInput)) {
                    options[i].style.display = "";
                } else {
                    options[i].style.display = "none"; 
                }
            }
        }
        function selectBasisOption() {
            const select = document.getElementById("basis");
            if (select.selectedIndex !== -1) {
                const selectedValue = select.options[select.selectedIndex].text;
                document.getElementById("basisSearch").value = selectedValue;
                document.getElementById("selectedBasis").innerText = `Selected Basis Set: ${selectedValue}`;
                select.style.display = "none";
            }
        }
        function showFunctionalDropdown() {
            const dropdown = document.getElementById("functional");
            dropdown.style.display = "block";
        }

        function filterFunctionalOptions() {
            const searchInput = document.getElementById("functionalSearch").value.toLowerCase();
            const select = document.getElementById("functional");
            const options = select.options;

            select.selectedIndex = -1;

            for (let i = 0; i < options.length; i++) {
                const optionText = options[i].text.toLowerCase();
                if (optionText.includes(searchInput)) {
                    options[i].style.display = "";
                } else {
                    options[i].style.display = "none";
                }
            }
        }

        function selectFunctionalOption() {
            const select = document.getElementById("functional");
            if (select.selectedIndex !== -1) {
                const selectedValue = select.options[select.selectedIndex].text;
                document.getElementById("functionalSearch").value = selectedValue;
                document.getElementById("selectedFunctional").innerText = `Selected Functional: ${selectedValue}`;
                select.style.display = "none";
            }
        }
        let viewer;
        $(document).ready(function() {
            viewer = $3Dmol.createViewer("viewer", {
                backgroundColor: "white"
            });
            viewer.setStyle({}, {stick:{}});
            viewer.zoomTo();
            viewer.render();
        });

        function updateViewer(xyzData) {
            if (!xyzData || !viewer) return;
            
            try {
                viewer.clear();
                viewer.addModel(xyzData, "xyz");
                viewer.setStyle({}, {stick:{radius: 0.1}, sphere:{radius: 0.3}});
                viewer.zoomTo();
                viewer.render();
            } catch (error) {
                console.warn("Failed to update molecule viewer:", error);
            }
        }
        </script>
</body>
</html>
